## 坏味道与重构手法速查表

| No   | Bad Smells                                    | 坏味道         | 常用重构                                                     |
| ---- | --------------------------------------------- | -------------- | ------------------------------------------------------------ |
| 1    | Alternative Classes with Different Interfaces | 异曲同工的类   | 改变函数声明 搬移函数 提炼超类                               |
| 2    | Comments                                      | 注释           | 提炼函数 改变函数声明 引入断言                               |
| 3    | Data Class                                    | 纯数据类       | 封装记录 移除设置函数 搬移函数<br> 提炼函数 拆分阶段         |
| 4    | Data Clumps                                   | 数据泥团       | 提炼类 引入参数对象 保持对象完整                             |
| 5    | Divergent Change                              | 发散式变化     | 拆分阶段 搬移函数 提炼函数 提炼类                            |
| 6    | Duplicated Code                               | 重复代码       | 提炼函数 移动语句 函数上移                                   |
| 7    | Feature Envy                                  | 依恋情结       | 搬移函数 提炼函数                                            |
| 8    | Global Data                                   | 全局数据       | 封装变量                                                     |
| 9    | Insider Trading                               | 内幕交易       | 搬移函数 搬移字段 隐藏委托关系 <br>以委托取代子类 以委托取代超类 |
| 10   | Large Class                                   | 过大的类       | 提炼类 提炼超类 以子类取代类型码                             |
| 11   | Lazy Element                                  | 冗余的元素     | 内联函数 内联类 折叠继承体系                                 |
| 12   | Long Function                                 | 过长的函数     | 提炼函数 以查询取代临时变量 引入参数对象<br> 保持对象完整 以命令取代函数 分解条件表达式<br> 以多态取代条件表达式 拆分循环 |
| 13   | Long Parameter List                           | 过长参数列表   | 以参数取代查询 保持对象完整 引入参数对象<br> 移除标记参数 函数组合成类 |
| 14   | Loops                                         | 循环语句       | 以管道取代循环                                               |
| 15   | Message Chains                                | 过长的消息链   | 隐藏委托关系 提炼函数 搬移函数                               |
| 16   | Middle Man                                    | 中间人         | 移除中间人 内联函数 以委托取代超类 <br>以委托取代子类        |
| 17   | Mutable Data                                  | 可变数据       | 封装变量 拆分变量 移动语句 提炼函数 <br>将查询函数和修改函数分离 移除设置函数<br> 以查询取代派生变量 函数组合成类 <br>函数组合成变换 将引用对象改为值对象 |
| 18   | Mysterious Name                               | 神秘命名       | 改变函数声明 变量改名 字段改名                               |
| 19   | Primitive Obsession                           | 基本类型偏执   | 以对象取代基本类型 以子类取代类型码<br> 以多态取代条件表达式 提炼类 引入参数对象 |
| 20   | Refused Bequest                               | 被拒绝的遗赠   | 函数下移 字段下移 以委托取代子类 <br>以委托取代超类          |
| 21   | Repeated Switches                             | 重复的 switch  | 以多态取代条件表达式                                         |
| 22   | Shotgun Surgery                               | 霰弹式修改     | 搬移函数 搬移字段 函数组合成类 函数组合成变换 拆分阶段 内联函数 内联类 |
| 23   | Speculative Generality                        | 夸夸其谈通用性 | 折叠继承体系 内联函数 内联类 改变函数声明 移除死代码         |
| 24   | Temporary Field                               | 临时字段       | 提炼类 搬移函数 引入特例                                     |

---

